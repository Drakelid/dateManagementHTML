@model dateManagementHTML.Models.ViewModels.AdminHolidayViewModel

@{
    ViewData["Title"] = "Manage Holidays";
}

<div class="app-container">
    <div class="main-content">
        <div class="header-section">
            <div class="header-image-text">
                <div class="illustration">
                    <img src="@Url.Content("~/images/settings.png")" alt="Admin Illustration" class="dashboard-illustration" />
                </div>
                <div class="header-text">
                    <h1>Manage Holidays</h1>
                    <a asp-action="AddHoliday" class="btn btn-primary">Add Holiday</a>
                </div>
            </div>
        </div>

        <form method="get" asp-action="Holidays">
            <div class="form-group d-flex align-items-center mb-3">
                <label for="countryCode" class="mr-2">Filter by Country:</label>
                <select id="countryCode" name="countryCode" class="form-control" onchange="this.form.submit()">
                    <option value="">-- All Countries --</option>
                    @foreach (var c in ViewBag.Countries as List<SelectListItem>)
                    {
                        <option value="@c.Value" selected="@(c.Value == ViewBag.SelectedCountry ? "selected" : null)">
                            @c.Text
                        </option>
                    }
                </select>
            </div>
        </form>

        @await Html.PartialAsync("HolidayList", Model.Holidays)
    </div>
</div>